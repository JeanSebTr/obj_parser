/* 
 * File:   Model.cpp
 * Author: jeansebtr
 * 
 * Created on 12 f√©vrier 2011, 23:44
 */

#include "Model.h"

#include <GL/gl.h>

Model::Model() {
}

Model::Model(const Model& orig) {
}

Model::~Model() {
}

void Model::SetVertex(Vertex* array, int n)
{
    this->aVertex = array;
    this->nVertex = n;
}

void Model::SetFaces(Face* array, int n)
{
    this->aFaces = array;
    this->nFaces = n;
}

void Model::Draw()
{
    char j;
    for(int i = 0; i < this->nFaces; i++)
    {
        GLenum mode;
        switch(this->aFaces[i].n)
        {
            case 3:
                mode = GL_TRIANGLES;
                break;
            case 4:
                mode = GL_QUADS;
                break;
            default:
                mode = GL_POLYGON;
                break;
        }

        glBegin(mode);
        for(j = 0; j < this->aFaces[i].n; j++)
        {
            glVertex3d(
                    this->aVertex[this->aFaces[i].v[j]].x,
                    this->aVertex[this->aFaces[i].v[j]].y,
                    this->aVertex[this->aFaces[i].v[j]].z);
        }
        glEnd();
    }
}
